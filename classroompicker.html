<!DOCTYPE html>
<html lang="en">
<head>
    <meta name="google-signin-scope" content="profile email">
    <meta name="google-signin-client_id" content="922885153816-2gouv98kqjnb9g12g49a6ld87d4nqtng.apps.googleusercontent.com">
    <script src="https://apis.google.com/js/platform.js" async defer></script>
    <title>Mr. Lynch's Interactive Answer Checker</title>
    
    <style>
      body{
        background-color: black;
        font-family: arial;
      }
      .header {
        font-size: 40px;
        color: yellow;
        text-align: center;
      }
      .root{
        display: flex;
        justify-content: center;
        align-items: center;
        text-align: center;
        margin: 0 100px 0 100px;
      }
      p {
        color: white;
        font-size: 1.2em;
      }
      #inputbox {
        width: 80%;
        max-width: 600px;
        padding: 10px;
        font-size: 16px;
      }
      #btn {
        margin-top: 20px;
        padding: 10px 20px;
        font-size: 18px;
        cursor: pointer;
      }
      #result {
        margin-top: 20px;
        font-size: 1.5em;
        font-weight: bold;
      }
      
      /* --- Toast Message CSS --- */
      #toast {
        visibility: hidden; min-width: 250px; margin-left: -125px; background-color: #333;
        color: #fff; text-align: center; border-radius: 4px; padding: 16px; position: fixed;
        z-index: 1; left: 50%; bottom: 30px; font-size: 17px;
      }
      #toast.show {
        visibility: visible;
        -webkit-animation: fadein 0.5s, fadeout 0.5s 2.5s;
        animation: fadein 0.5s, fadeout 0.5s 2.5s;
      }
      @-webkit-keyframes fadein { from {bottom: 0; opacity: 0;} to {bottom: 30px; opacity: 1;} }
      @keyframes fadein { from {bottom: 0; opacity: 0;} to {bottom: 30px; opacity: 1;} }
      @-webkit-keyframes fadeout { from {bottom: 30px; opacity: 1;} to {bottom: 0; opacity: 0;} }
      @keyframes fadeout { from {bottom: 30px; opacity: 1;} to {bottom: 0; opacity: 0;} }
      
      /* --- (Your Hideous Mode CSS can remain here) --- */

    </style>
</head>
<body>
    <h1 class="header">Mr. Lynch's Interactive Answer Checker</h1>
    
    <div class="root">  
      <div>
        <div class="g-signin2" data-onsuccess="onSignIn" data-theme="dark"></div>
        <p id="prompt">Enter your scientific claim below:</p>
        <input id="inputbox" type="textbox" placeholder="e.g., When the [independent variable] increases, the [dependent variable] will...">
        <br>
        <input id="btn" type="button" value="Check My Answer!" onclick="myfunction()">
        <p id="result"></p>
      </div>
    </div>

    <div id="toast"></div>

    <script>
      // Function to show toast messages
      function showToast(message) {
        var x = document.getElementById("toast");
        x.innerHTML = message;
        x.className = "show";
        setTimeout(function(){ x.className = x.className.replace("show", ""); }, 3000);
      }

      // Your custom answer-checking logic
      function calc(i) {
        var d = i.toLowerCase().trim();
        var ivcount = (d.match(/iv/g) || []).length;
        var dvcount = (d.match(/dv/g) || []).length;
        var count = dvcount + ivcount;
        var grade = 0;
        
        if (
            !d.includes("if") && !d.includes("think") && !d.includes("believe") &&
            d.includes("when") &&
            (d.includes("increase") || d.includes("decrease")) &&
            d.includes("independent variable") &&
            d.includes("dependent variable") &&
            count > 1
        ) {
            grade = 100;
        }
        
        if (count == 1) {
            showToast("Make sure you include the independent AND dependent variable in your claim!");
        }
        
        return grade;
      }
      
      // Main function that runs when the button is clicked
      function myfunction() {
        var studentAnswer = document.getElementById("inputbox").value;
        var resultElement = document.getElementById("result");
        
        if (studentAnswer.trim() === "") {
            showToast("Please enter your answer first!");
            return;
        }
        
        var score = calc(studentAnswer);
        
        resultElement.innerHTML = "Your Score: " + score;
        
        if (score === 100) {
            showToast("Excellent! That's a perfect claim.");
            resultElement.style.color = "lightgreen";
        } else {
            showToast("Not quite, check the feedback and try again!");
            resultElement.style.color = "orange";
        }
      }

      // Your original onSignIn function can remain here if you still want the Quizizz functionality
      function onSignIn(googleUser) {
        // ... all the code for redirecting to Quizizz ...
        // You can keep it or remove it depending on your needs.
      }
      
      // ... your other functions like enableHidiousMode can also stay ...
    </script>
</body>
</html>
