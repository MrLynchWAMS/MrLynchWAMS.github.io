<!DOCTYPE html>
<html>
<head>
    <style>
        /* (Your CSS here...) */
        body { background-color: black; color: white; font-family: sans-serif; }
        .main-container { display: flex; gap: 20px; width: 95%; margin: auto; }
        .slides-column { flex: 2; }
        .interactive-column { flex: 1; text-align: center; }
        .slide-nav { margin-top: 10px; text-align: center; }
        .slide-nav button { font-size: 16px; padding: 5px 10px; }
        .slide-nav span { margin: 0 15px; font-size: 1.2em; }
        .header { text-align: center; color: yellow; }
        #inputbox { width: 90%; padding: 10px; font-size: 16px; }
        #btn { margin-top: 20px; padding: 10px 20px; font-size: 18px; cursor: pointer; }
        #result { margin-top: 20px; font-size: 1.5em; font-weight: bold; }
    </style>
</head>
<body>
    <h1 class="header">Mr. Lynch's Interactive Slides</h1>

    <div class="main-container">
        <div class="slides-column">
            <img id="slide-image" src="" alt="Loading Slide..." style="width:100%; border: 1px solid grey;">
            <div class="slide-nav">
                <button onclick="prevSlide()">Previous</button>
                <span id="slide-counter"></span>
                <button onclick="nextSlide()">Next</button>
            </div>
        </div>

        <div class="interactive-column">
             <p id="prompt">Enter your answer for the current slide:</p>
            <input id="inputbox" type="textbox" placeholder="Your answer here...">
            <br>
            <input id="btn" type="button" value="Check My Answer!" onclick="myfunction()">
            <p id="result"></p>
        </div>
    </div>

<script>
    // ========================================================================
    // JAVASCRIPT CONFIGURATION
    // ========================================================================
    const API_KEY = "AIzaSyCdnRYchqudW2JvpaHCqbxTlNewghrMEJc";
    const PRESENTATION_ID = "1LYl6PebqTv-KQ9aj3-lnvcZwcV_MXbn1hxVUtdG4sFo";

    const slideIds = [
        "g22b68d540b9_0_0",
        "g11f6b98ef49_0_0",
        "g11f6b98ef49_0_5",
    ];
    // ========================================================================

    let currentSlideIndex = 0;

    function updateSlideDisplay() {
        const slideId = slideIds[currentSlideIndex];
        const slideImageElement = document.getElementById('slide-image');
        const slideCounterElement = document.getElementById('slide-counter');

        slideCounterElement.innerHTML = `Loading Slide ${currentSlideIndex + 1}...`;
        slideImageElement.src = "";

        const apiUrl = `https://slides.googleapis.com/v1/presentations/${PRESENTATION_ID}/pages/${slideId}/thumbnail?key=${API_KEY}`;

        fetch(apiUrl)
            .then(response => response.json())
            .then(data => {
                if (data.contentUrl) {
                    const imageUrl = data.contentUrl;
                    slideImageElement.src = imageUrl;
                     // FIX #2: Corrected the typo "currentSlide-index" to "currentSlideIndex"
                    slideCounterElement.innerHTML = `Slide ${currentSlideIndex + 1} of ${slideIds.length}`;
                } else {
                    // This handles cases where the API call succeeds but returns an error message
                    console.error("API Error:", data);
                    slideCounterElement.innerHTML = `Error: ${data.error.message || 'Could not load slide'}`;
                }
            })
            .catch(error => {
                console.error("Fetch Error:", error);
                slideCounterElement.innerHTML = "Error loading slide.";
            });

        // These will now work because the elements exist in the HTML
        document.getElementById('inputbox').value = "";
        document.getElementById('result').innerHTML = "";
    }

    function nextSlide() {
        if (currentSlideIndex < slideIds.length - 1) {
            currentSlideIndex++;
            updateSlideDisplay();
        }
    }

    function prevSlide() {
        if (currentSlideIndex > 0) {
            currentSlideIndex--;
            updateSlideDisplay();
        }
    }

    window.onload = function() {
        // FIX #1: This now correctly checks for the placeholder text, not your actual key.
        if (!API_KEY || API_KEY === "PASTE_YOUR_API_KEY_HERE") {
            alert("Error: API_KEY is not configured in the script.");
            return;
        }
        updateSlideDisplay();
    };
    
    // You will need to add back your other functions like myfunction() and calc() here
    function myfunction() {
        // ... your answer checking logic ...
        alert("Check Answer button clicked!");
    }

</script>
</body>
</html>
